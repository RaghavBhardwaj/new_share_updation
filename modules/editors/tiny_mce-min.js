Alfresco.util.RichEditorManager.addEditor("tinyMCE",function(k,r){var f;return({init:function m(v,u){u.theme="modern";if(!u.toolbar){u.toolbar="styleselect | bold italic | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview fullscreen"}if(!u.menu){u.menu={file:{title:"File",items:"newdocument | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},insert:{title:"Insert",items:"link image | charmap hr anchor pagebreak inserttime nonbreaking"},view:{title:"View",items:"fullscreen preview visualblocks code"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table",items:"inserttable tableprops deletetable | cell row column"}}}u.plugins=["advlist autolink link image lists charmap print preview hr anchor pagebreak","searchreplace code fullscreen insertdatetime nonbreaking","table contextmenu paste textcolor visualblocks"];u.relative_urls=true;u.convert_urls=false;if(typeof u.forced_root_block==="undefined"){u.forced_root_block="p"}if(!u.init_instance_callback){u.init_instance_callback=function(w){return function(x){YAHOO.Bubbling.fire("editorInitialized",w)}}(this)}f=new tinymce.Editor(v,u,tinymce.EditorManager);var t=u.extended_valid_elements;t=(t&&t!="")?(t=t+","):"";u.extended_valid_elements=t+"embed[src|type|width|height|flashvars|wmode]";return this},getEditor:function a(){return f},clear:function e(){YAHOO.util.Dom.get(f.id).value="";f.setContent("")},render:function h(){f.render()},execCommand:"execCommand",disable:function j(){f.hide()},enable:function s(){f.show()},focus:function d(){f.focus()},getContent:function i(){return f.getContent()},setContent:function p(t){f.setContent(t)},save:function n(){f.save()},getContainer:function b(){return f.getContainer()},activateButton:function g(t){f.controlManager.setActive(t,true)},deactivateButton:function q(t){f.controlManager.setActive(t,false)},isDirty:function o(){return f.isDirty()},clearDirtyFlag:function c(){f.isNotDirty=1},addPageUnloadBehaviour:function l(t,u){window.onbeforeunload=function(v){if(YAHOO.lang.isFunction(u)&&u()){var v=v||window.event;if(f.isDirty()){if(v){v.returnValue=t}return t}}}}})});