define(["dojo/_base/declare","alfresco/documentlibrary/AlfDocumentList","alfresco/core/CoreXhr","service/constants/Default","dojo/_base/lang"],function(e,f,b,c,a){return e([f,b],{i18nRequirements:[{i18nFile:"./i18n/PropertyPicker.properties"}],useHash:false,waitForPageWidgets:false,onFolderClick:function h(k){var j=a.getObject("item.nodeRef",false,k);if(j!=null){this.nodeRef=j;this.loadData()}else{this.alfLog("warn","A 'url' attribute was expected to be provided for an item click",k,this)}},onDocumentClick:function h(j){},setDisplayMessages:function g(){this.noViewSelectedMessage=this.message("propPicker.no.view.message");this.noDataMessage=this.message("propPicker.no.data.message");this.fetchingDataMessage=this.message("propPicker.loading.data.message");this.renderingViewMessage=this.message("propPicker.rendering.data.message");this.fetchingMoreDataMessage=this.message("propPicker.loading.data.message")},url:null,loadData:function d(){this.showLoadingMessage();if(this.url!=null){var j="ALF_RETRIEVE_DOCUMENTS_REQUEST";var l=c.PROXY_URI+this.url;var k={alfTopic:j,url:l,method:"GET",callbackScope:this};this.serviceXhr(k)}else{this.alfLog("warn","No 'url' attribute provided to request data",this)}},onDataLoadSuccess:function i(k){this.alfLog("log","Data Loaded",k,this);this._currentData={items:k.response};var j=this.viewMap[this._currentlySelectedView];if(j!=null){this.showRenderingMessage();j.setData(this._currentData);j.renderView(this.useInfiniteScroll);this.showView(j);this.alfPublish("ALF_RESIZE_SIDEBAR",{})}},widgets:[{name:"alfresco/documentlibrary/views/AlfDocumentListView",config:{noItemsMessage:"propPicker.no.data.message",widgets:[{name:"alfresco/documentlibrary/views/layouts/Row",config:{widgets:[{name:"alfresco/documentlibrary/views/layouts/Cell",config:{widgets:[{name:"alfresco/renderers/Property",config:{propertyToRender:"name"}},{name:"alfresco/renderers/Property",config:{propertyToRender:"title",renderedValuePrefix:"(",renderedValueSuffix:")",renderSize:"small"}}]}},{name:"alfresco/documentlibrary/views/layouts/Cell",config:{width:"20px",widgets:[{name:"alfresco/renderers/PublishAction",config:{publishGlobal:false,publishToParent:true}}]}}]}}]}}]})});