define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/ConsoleLog.html","alfresco/core/Core","dojo/_base/lang","dojo/dom-construct","dojo/dom-attr","dojo/sniff"],function(g,b,m,n,i,a,d,j,l){return g([b,m,i],{cssRequirements:[{cssFile:"./css/ConsoleLog.css"}],templateString:n,hasLoaded:false,storedLogs:[],constructor:function k(p){this._consoleTakeOver()},postCreate:function o(){this.hasLoaded=true;this._writeStoredLogs()},_consoleTakeOver:function f(){var q=window.console,t=this;if(!q){return}function s(v){var u=q[v];q[v]=function(){if(arguments.length>0){t._recordLog(arguments[0])}if(u.apply){u.apply(q,arguments)}else{var w=Array.prototype.slice.apply(arguments).join(" ");u(w)}}}var p=["log","warn","error"];for(var r=0;r<p.length;r++){s(p[r])}},_recordLog:function e(p){var q=this._composeLogRow(p);if(this.hasLoaded){d.place(q,this.logNode)}else{this.storedLogs.push(q)}},_composeLogRow:function h(r){var q=d.create("tr",{className:"cl-row"});var p=d.create("td",{className:"cl-message",innerHTML:r},q);return q},_writeStoredLogs:function c(){for(var p=0;p<this.storedLogs.length;p++){d.place(this.storedLogs[p],this.logNode)}}})});