define(["dojo/_base/declare","alfresco/renderers/Thumbnail","alfresco/navigation/_HtmlAnchorMixin","alfresco/renderers/_SearchResultLinkMixin","service/constants/Default","dojo/_base/lang","dojo/window"],function(e,b,k,h,c,a,g){return e([b,k,h],{i18nRequirements:[{i18nFile:"./i18n/SearchThumbnail.properties"}],showDocumentPreview:false,postCreate:function d(){this.inherited(arguments);this.publishPayload=this.generatePayload(this.payload,this.currentItem,null,this.publishPayloadType,this.publishPayloadItemMixin,this.publishPayloadModifiers);this.makeAnchor(this.publishPayload.url,this.publishPayload.type)},generatePayload:function i(){var l=a.getObject("type",false,this.currentItem);if(this.showDocumentPreview&&l==="document"){var m=g.getBox();this.publishTopic="ALF_CREATE_DIALOG_REQUEST";return{contentWidth:(m.w*0.8)+"px",contentHeight:(m.h*0.7)+"px",dialogTitle:this.currentItem.name,widgetsContent:[{name:"alfresco/documentlibrary/AlfDocument",config:{widgets:[{name:"alfresco/preview/AlfDocumentPreview"}]}}],widgetsButtons:[{name:"alfresco/buttons/AlfButton",config:{label:this.message("searchThumbnail.preview.dialog.close"),publishTopic:"NO_OP"}}],publishOnShow:[{publishTopic:"ALF_RETRIEVE_SINGLE_DOCUMENT_REQUEST",publishPayload:{nodeRef:this.currentItem.nodeRef}}]}}else{return this.inherited(arguments)}},generateFallbackThumbnailUrl:function f(){var l;switch(this.currentItem.type){case"blogpost":l=c.URL_RESCONTEXT+"components/search/images/blog-post.png";break;case"forumpost":l=c.URL_RESCONTEXT+"components/search/images/topic-post.png";break;case"calendarevent":l=c.URL_RESCONTEXT+"components/search/images/calendar-event.png";break;case"wikipage":l=c.URL_RESCONTEXT+"components/search/images/wiki-page.png";break;case"link":l=c.URL_RESCONTEXT+"components/search/images/link.png";break;case"datalist":l=c.URL_RESCONTEXT+"components/search/images/datalist.png";break;case"datalistitem":l=c.URL_RESCONTEXT+"components/search/images/datalistitem.png";break;default:l=c.URL_RESCONTEXT+"components/search/images/generic-result.png";break}return l},getAnchorTargetSelectors:function j(){return["span.inner"]}})});