define(["dojo/_base/declare","alfresco/renderers/Property","dijit/_OnDijitClickMixin","alfresco/renderers/_PublishPayloadMixin","dojo/text!./templates/PropertyLink.html","dojo/_base/event","dojo/_base/lang"],function(f,h,c,e,i,a,b){return f([h,c,e],{templateString:i,useCurrentItemAsPayload:true,onLinkClick:function g(j){a.stop(j);var k=this.getPublishTopic();if(k==null||k.trim()==""){this.alfLog("warn","No publishTopic provided for PropertyLink",this)}else{var m=(this.publishGlobal!=null)?this.publishGlobal:false;var l=(this.publishToParent!=null)?this.publishToParent:false;this.alfPublish(k,this.getPublishPayload(),m,l)}},getPublishTopic:function d(){return this.publishTopic},getPublishPayload:function d(){if(this.useCurrentItemAsPayload==true){return this.currentItem}else{return this.generatePayload(this.publishPayload,this.currentItem,null,this.publishPayloadType,this.publishPayloadItemMixin,this.publishPayloadModifiers)}},publishPayloadItemMixin:false,publishPayloadType:"PROCESS",publishPayloadModifiers:["processCurrentItemTokens","replaceColons"]})});