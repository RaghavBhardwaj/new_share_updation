define(["alfresco/forms/controls/BaseFormControl","dojo/_base/declare","dijit/form/ValidationTextBox","dojo/dom-construct","dojo/dom-class"],function(e,c,g,a,f){return c([e],{cssRequirements:[{cssFile:"./css/DojoValidationTextBox.css"}],placeHolder:null,getWidgetConfig:function b(){var i=(this.placeHolder!=null)?this.message(this.placeHolder):"";return{id:this.generateUuid(),name:this.name,value:this.value,placeHolder:i,iconClass:this.iconClass}},createFormControl:function h(j,k){var l=new g(j);var i="";if(this.additionalCssClasses!=null){i=this.additionalCssClasses}f.add(this.domNode,"alfresco-forms-controls-DojoValidationTextBox "+i);if(j.iconClass!=null&&j.iconClass.trim()!=""){a.create("span",{"class":"alf-icon "+j.iconClass},l.focusNode,"before")}return l},_oldValue:null,__oldValue:null,setupChangeEvents:function d(){var i=this;if(this.wrappedWidget){this.wrappedWidget.on("keyup",function(){i._oldValue=i.__oldValue;i.__oldValue=this.getValue();i.alfLog("log","keyup - OLD value: "+i._oldValue+", NEW value: "+this.getValue());i.formControlValueChange(i.name,i._oldValue,this.getValue());i.validate()})}}})});