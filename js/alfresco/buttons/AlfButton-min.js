define(["dojo/_base/declare","dijit/form/Button","alfresco/core/Core","dojo/dom-class","dojo/_base/array","dojo/_base/lang"],function(c,d,b,h,e,a){return c([d,b],{cssRequirements:[{cssFile:"./css/AlfButton.css"}],i18nRequirements:[{i18nFile:"./i18n/AlfButton.properties"}],publishTopic:"",publishPayload:null,additionalCssClasses:"",postMixInProperties:function f(){this.inherited(arguments);if(this.publishPayload==null){this.publishPayload=={}}},postCreate:function k(){this.inherited(arguments);h.add(this.domNode,"alfresco-buttons-AlfButton "+(this.additionalCssClasses!=null?this.additionalCssClasses:""));if(this.disableOnInvalidControls==true){this.invalidControls=[];this.alfSubscribe("ALF_INVALID_CONTROL",a.hitch(this,"onInvalidControl"));this.alfSubscribe("ALF_VALID_CONTROL",a.hitch(this,"onValidControl"))}},disableOnInvalidControls:false,invalidControls:null,onInvalidControl:function g(m){var l=e.some(this.invalidControls,function(n){return n==m.name});if(!l){this.invalidControls.push(m.name)}this.set("disabled","true")},onValidControl:function j(l){this.invalidControls=e.filter(this.invalidControls,function(m){return m!=l.name});this.set("disabled",this.invalidControls.length>0)},onClick:function i(l){if(this.publishTopic!=null&&this.publishTopic!=""){this.alfPublish(this.publishTopic,this.publishPayload,(this.publishGlobal!==undefined&&this.publishGlobal==true))}else{this.alfLog("warn","A widget was clicked but did not provide any information on how to handle the event",this)}}})});